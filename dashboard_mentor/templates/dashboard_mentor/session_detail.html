{% extends "dashboard_mentor/base.html" %}
{% load static %}

{% block page_title %}Session detail{% endblock %}

{% block dashboard_content %}
<div class="dashboard-content-container" style="max-width: 980px;">
  <div class="dashboard-card" style="padding: 18px;">
    <div style="display:flex;align-items:flex-start;justify-content:space-between;gap:12px;flex-wrap:wrap;">
      <div>
        <h3 class="card-title" style="margin:0;">Session detail</h3>
        <div style="margin-top:6px;color:var(--dash-text-muted);font-weight:600;">
          Status: <span style="text-transform:capitalize;">{{ session.status }}</span>
          {% if client_email %} · Client: <span style="font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;">{{ client_email }}</span>{% endif %}
        </div>
      </div>
      <div style="display:flex;gap:10px;">
        <a href="/dashboard/mentor/my-sessions/" class="btn btn-secondary" style="text-decoration:none;">
          <i class="fas fa-arrow-left" style="margin-right:6px;"></i> Back
        </a>
      </div>
    </div>

    <div style="margin-top:16px;display:grid;grid-template-columns: 1fr 1fr;gap:14px;">
      <div style="border:1px solid #e2e8f0;border-radius:14px;padding:14px;">
        <div style="font-weight:900;color:#0f172a;margin-bottom:8px;">Time</div>
        <div style="color:#334155;font-weight:700;">Start</div>
        <div style="color:#0f172a;font-weight:800;margin-bottom:10px;">{{ start_local }}</div>
        <div style="color:#334155;font-weight:700;">End</div>
        <div style="color:#0f172a;font-weight:800;">{{ end_local }}</div>
        <div style="margin-top:10px;color:#64748b;font-weight:600;font-size:0.9rem;">Timezone: {{ mentor_timezone }}</div>
      </div>

      <div style="border:1px solid #e2e8f0;border-radius:14px;padding:14px;">
        <div style="font-weight:900;color:#0f172a;margin-bottom:8px;">Pricing</div>
        <div style="color:#334155;font-weight:700;">Session price</div>
        <div style="color:#0f172a;font-weight:900;font-size:1.1rem;">{% if session.session_price %}${{ session.session_price }}{% else %}—{% endif %}</div>
        <div style="margin-top:12px;color:#64748b;font-weight:600;font-size:0.9rem;">Payment is not implemented yet.</div>
      </div>

      <div style="grid-column: 1 / -1; border:1px solid #e2e8f0;border-radius:14px;padding:14px;">
        <div style="font-weight:900;color:#0f172a;margin-bottom:8px;">Notes</div>
        <div style="color:#334155;">{% if session.note %}{{ session.note }}{% else %}<span style="color:#94a3b8;">No notes.</span>{% endif %}</div>
      </div>

      <div style="grid-column: 1 / -1; border:1px solid #e2e8f0;border-radius:14px;padding:14px;">
        <div style="font-weight:900;color:#0f172a;margin-bottom:8px;">Tasks</div>
        {% if session.tasks and session.tasks|length %}
          <ul style="margin:0;padding-left:18px;color:#334155;">
            {% for t in session.tasks %}
              <li style="margin:4px 0;">{{ t }}</li>
            {% endfor %}
          </ul>
        {% else %}
          <div style="color:#94a3b8;">No tasks.</div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
